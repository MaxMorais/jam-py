=============
copy_database
=============

.. py:method:: copy_database((self, dbtype, connection, limit = 1000)

**domain**: server

**language**: python

**class** :doc:`Task class </refs/server/task_api>`

Description
===========

Use ``copy_database`` to copy database data when migrating to another database.

``dbtype`` parameter is the type of the source database
the database type are defined as the attributes the ``consts`` attribute of 
the task and can take one of the following values.

* SQLITE 
* FIREBIRD 
* POSTGRESQL 
* MYSQL 
* ORACLE 
* MSSQL
  
``connection`` parameter is a Python connection to the source database

See :doc:`How to migrate to another database </how_to/how_to_migrate_to_another_database>`


Example
=======

in the following code when the project task tree is created the application
copies the data from the demo.sqlite database to the project database:

.. code-block:: py

  import sqlite3
  
  def on_created(task):
      connection = sqlite3.connect('/home/demo_project/demo.sqlite')
      task.copy_database(task.consts.SQLITE, connection)



